import { Form } from './Form.tsx';
import { defaultTheme } from '@medly-components/theme';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import { withKnobs, text, color, select, boolean } from '@storybook/addon-knobs';
import { testSchema } from './testSchema.ts';
import { CommonProps, NestedFieldProps } from './Form.stories.tsx';
import { action } from '@storybook/addon-actions';

<Meta title="Forms" component={Form} />

# Forms

Create dynamic react form with simple json.

```tsx
import { Form, FormSchema } from '@medly-component/forms';

const schema: FormSchema = { email: { type: 'email', label: 'Email' }, password: { type: 'password', label: 'Password' } };

const UserInfoForm = () => <Form schema={schema} onSubmit={values => console.log('Values==>', values)} actionLabel="Login" />;
```

<Preview withToolbar>
    <Form
        schema={{ email: { type: 'email', label: 'Email' }, password: { type: 'password', label: 'Password' } }}
        actionLabel="Login"
        onSubmit={action('Submitted')}
    />
</Preview>

### Form Design

To arrange the fields in the form we have used css `display: grid` and `grid-template-columns: repeat(12, 1fr);`. So that we can arrange our fields using `grid-column` and `grid-row`. By default each field will take full width of the form. But you can adjust the width of the fields acrss the `12 colums`. Click on the `Show Code` below to check out the example.

<Preview withToolbar>
    <Form
        schema={{
            firstName: {
                gridColumn: '1/7',
                type: 'text',
                required: true,
                label: 'First Name'
            },
            lastName: {
                type: 'text',
                gridColumn: '7/-1',
                required: true,
                label: 'Last Name'
            },
            email: { type: 'email', label: 'Email' },
            password: { type: 'password', label: 'Password' }
        }}
        actionLabel="Sign up"
        onSubmit={action('Submitted')}
    />
</Preview>

### Form Props

<Props of={Form} />

### Form Schema

Form schema basically is a simple json which includes the info of each field. There are three field props which are common across all the fields are `type` | `gridColumn` | `gridRow`. Appart from that each field type will have its own props. To see the individual field props checkout out that component's docs page.

##### Common field props

<Props of={CommonProps} />

##### Nested Field Props

<Props of={NestedFieldProps} />

### Form with all the field types

You can play with this form in the `Canvas` tab.

<Preview withToolbar>
    <Story name="Form" parameters={{ decorators: [withKnobs] }}>
        <Form
            schema={testSchema}
            onSubmit={action('Submitted')}
            actionLabel={text('Action Label', 'Save')}
            hideActions={boolean('Hide Actions', false)}
            fullWidth={boolean('Full Width', false)}
            minWidth={text('Min Width', '50rem')}
        />
    </Story>
</Preview>
