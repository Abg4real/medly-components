import { Table } from '../Table';
import { useState, useCallback } from 'react';
import { action } from '@storybook/addon-actions';
import { boolean } from '@storybook/addon-knobs';
import { Preview, Story, Meta, Props } from '@storybook/addon-docs/blocks';
import * as stories from './Table.stories';
import { filterData } from './filterData';
import columns from './columns';
import data from './data';

<Meta title="Core" component={Table} />

# Table

Table to show set of data

<Preview withToolbar>
    <Story name="Table">
        {() => {
            const [selectedRowIds, setSelectedRowIds] = useState([2, 3]);
            const handleFilterData = useCallback((dottedField, order) => {
                setTableData(filterData(dottedField, order, tableData));
            }, []);
            return (
                <Table
                    isSelectable={boolean('Is selectable', true)}
                    isLoading={boolean('Loading', false)}
                    rowSelectionDisableKey="disabled"
                    selectedRowIds={selectedRowIds}
                    onRowSelection={setSelectedRowIds}
                    onRowClick={action('Row Clicked')}
                    defaultSortField="name"
                    defaultSortOrder="asc"
                    data={data}
                    onSort={handleFilterData}
                    columns={columns}
                />
            );
        }}
    </Story>
</Preview>

### Props

<Props of={Table} />

### Table Prop Types

You can use Table Prop types like below to typesafe your column config.

```ts
import { GetComponentProps } from '@medly-components/utils';
import { Table } from '@medly-components/core';

type TableProps = GetComponentProps<typeof Table>;

type ColumnConfig = TableProps['columns'];
```

#### Column config type

<Props of={stories.ColumnConfigInterface} />

There is one more field `children` you can provide with the same array of column config.

#### TableTheme

<Props of={stories.Theme} />
